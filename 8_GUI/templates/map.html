<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title></title>
<meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no" />
<script src="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.js"></script>
<link href="https://api.mapbox.com/mapbox-gl-js/v1.11.1/mapbox-gl.css" rel="stylesheet" />
<style>
	body { margin: 0; padding: 0; }
	#map { position: absolute; top: 0; bottom: 0; width: 100%; }
</style>
</head>
<body>
	
	
        
    <div id="container">
        <div id="map"></div>

    </div>

<script>
	mapboxgl.accessToken = 'pk.eyJ1IjoiY2FubmFtYWlkZW4iLCJhIjoiY2tkOXo5Zm9pMTh3aTJwc2NpemZhbTQ5eSJ9.40qSsMRfdWiJYRB3kTJt2A';
var map = new mapboxgl.Map({
container: 'map', // container id
style: 'mapbox://styles/mapbox/streets-v11',
center: [-96, 37.8], // starting position
zoom: 3 // starting zoom
});

// Add geolocate control to the map.
map.addControl(
new mapboxgl.GeolocateControl({
positionOptions: {
enableHighAccuracy: true
},
trackUserLocation: true
})
);
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(event) {
      
  
      var socket = io.connect('http://' + document.domain + ':' + location.port + '/map', {
        reconnection: false
      });
  
      socket.on('connect', () => {
        console.log('Connected');
      });
  
      socket.on('disconnect', () => {
        console.log('Disconnected');
      });
  
      socket.on('connect_error', (error) => {
        console.log('Connect error! ' + error);
      });
  
      socket.on('connect_timeout', (error) => {
        console.log('Connect timeout! ' + error);
      });
  
      socket.on('error', (error) => {
        console.log('Error! ' + error);
      });
  
      // Update image and text data based on incoming data messages
      
    });
  </script>
 
</body>
</html>
